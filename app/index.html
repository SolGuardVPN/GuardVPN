<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DVPN Client</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <svg width="32" height="32" viewBox="0 0 32 32">
          <circle cx="16" cy="16" r="14" fill="none" stroke="#00d4aa" stroke-width="2"/>
          <path d="M16 8 L16 24 M8 16 L24 16" stroke="#00d4aa" stroke-width="2"/>
        </svg>
        <h1>DVPN</h1>
      </div>
      <div class="wallet-section">
        <button id="connectWalletBtn" class="btn btn-primary">Connect Wallet</button>
        <div id="walletInfo" class="wallet-info" style="display: none;">
          <span id="walletAddress"></span>
          <span id="walletBalance"></span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Connection Status -->
      <section class="status-card">
        <div class="status-indicator" id="statusIndicator">
          <div class="status-dot disconnected"></div>
          <span id="statusText">Disconnected</span>
        </div>
        <button id="connectBtn" class="btn btn-large btn-connect" disabled>
          Connect to VPN
        </button>
        <div id="connectionDetails" style="display: none;">
          <div class="detail-row">
            <span class="label">Node:</span>
            <span id="connectedNode">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Region:</span>
            <span id="connectedRegion">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Session:</span>
            <span id="sessionId">-</span>
          </div>
          <div class="detail-row">
            <span class="label">Time Remaining:</span>
            <span id="timeRemaining">-</span>
          </div>
        </div>
      </section>

      <!-- Node Selection -->
      <section class="nodes-section">
        <div class="section-header">
          <h2>Available Nodes</h2>
          <div class="filters">
            <select id="regionFilter" class="filter-select">
              <option value="">All Regions</option>
              <option value="us-east">US East</option>
              <option value="us-west">US West</option>
              <option value="eu-west">EU West</option>
              <option value="asia">Asia</option>
            </select>
            <button id="refreshNodesBtn" class="btn btn-secondary">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
                <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
              </svg>
              Refresh
            </button>
          </div>
        </div>
        <div id="nodesContainer" class="nodes-grid">
          <div class="loading">Loading nodes...</div>
        </div>
      </section>

      <!-- Sessions Tab -->
      <section class="sessions-section" style="display: none;">
        <h2>My Sessions</h2>
        <div id="sessionsContainer" class="sessions-list">
          <!-- Sessions will be populated here -->
        </div>
      </section>

      <!-- Settings Tab -->
      <section class="settings-section" style="display: none;">
        <h2>Settings</h2>
        <div class="settings-form">
          <div class="form-group">
            <label for="indexerUrl">Indexer URL:</label>
            <input type="text" id="indexerUrl" value="http://localhost:8080" class="input">
          </div>
          <div class="form-group">
            <label for="rpcUrl">Solana RPC URL:</label>
            <input type="text" id="rpcUrl" value="http://localhost:8899" class="input">
          </div>
          <div class="form-group">
            <label for="programId">Program ID:</label>
            <input type="text" id="programId" value="8LQKwvHJPdK6fKmopXmUwct8JjVGQhf3RFQd64nCV39i" class="input">
          </div>
          <button id="saveSettingsBtn" class="btn btn-primary">Save Settings</button>
        </div>
      </section>
    </main>

    <!-- Navigation -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-tab="nodes">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <circle cx="10" cy="10" r="8"/>
        </svg>
        Nodes
      </button>
      <button class="nav-item" data-tab="sessions">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <rect x="2" y="4" width="16" height="12" rx="2"/>
        </svg>
        Sessions
      </button>
      <button class="nav-item" data-tab="settings">
        <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
          <circle cx="10" cy="10" r="2"/>
          <path d="M10 2L12 6L16 6L13 9L14 13L10 11L6 13L7 9L4 6L8 6Z"/>
        </svg>
        Settings
      </button>
    </nav>
  </div>

  <!-- Modals -->
  <div id="modalOverlay" class="modal-overlay" style="display: none;">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Modal Title</h3>
        <button class="modal-close">&times;</button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- Dynamic content -->
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" id="modalCancelBtn">Cancel</button>
        <button class="btn btn-primary" id="modalConfirmBtn">Confirm</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
